
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Using Privox &#8212; Privox 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="The Website" href="website.html" />
    <link rel="prev" title="Overview" href="overview.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Privox</a></h1>



<p class="blurb">Voice Exchange</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=PrivoxAnon1&repo=Privox&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="home.html">Privox Website</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="audience.html">Intended Audience</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using Privox</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#stt">STT</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#key">key</a></li>
<li class="toctree-l3"><a class="reference internal" href="#quality">quality</a></li>
<li class="toctree-l3"><a class="reference internal" href="#language">language</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xlate">xlate</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples"><em>Examples</em></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tts">TTS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">key</a></li>
<li class="toctree-l3"><a class="reference internal" href="#voice">voice</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">language</a></li>
<li class="toctree-l3"><a class="reference internal" href="#text">text</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3"><em>Examples</em></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="website.html">The Website</a></li>
<li class="toctree-l1"><a class="reference internal" href="repo.html">The Repository</a></li>
<li class="toctree-l1"><a class="reference internal" href="contribute.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="how.html">How It Works</a></li>
<li class="toctree-l1"><a class="reference internal" href="design.html">Design Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="ack.html">Acknowledgements</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="overview.html" title="previous chapter">Overview</a></li>
      <li>Next: <a href="website.html" title="next chapter">The Website</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="using-privox">
<h1>Using Privox<a class="headerlink" href="#using-privox" title="Permalink to this heading">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p>Privox is accessed by doing an HTTP post to one of the public APIs (STT or TTS) and providing the proper input for the operation. These are summarized below.</p>
<section id="stt">
<h2>STT<a class="headerlink" href="#stt" title="Permalink to this heading">¶</a></h2>
<section id="key">
<h3>key<a class="headerlink" href="#key" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>The user’s API key. This key may be found on your profile page.</p>
<p><em>default = none, this is a required parameter</em></p>
</div></blockquote>
</section>
<section id="quality">
<h3>quality<a class="headerlink" href="#quality" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>One of ‘fast’, ‘normal, ‘better’, best’, ‘xcribe’ or ‘xcribe2’ representing the quality of transcription being requested from least to most accurate.</p>
<p><em>default = fast</em></p>
</div></blockquote>
</section>
<section id="language">
<h3>language<a class="headerlink" href="#language" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>The language of the resultant text being requested. If you specifiy a different language than what you provided in the wav file, the system will attempt to translate. This does not work well with the smaller/faster models. Transcription will be faster for english if you specify english.</p>
<p><em>default = English</em></p>
</div></blockquote>
</section>
<section id="xlate">
<h3>xlate<a class="headerlink" href="#xlate" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>If this field is posted it must contain the value ‘xlate’. It is used to tell the API the wav data is not in the proper format and it must be converted before being interpreted. This adversely impacts performance and should be avoided. It is typically used by Javascript.</p>
<p><em>default = None</em></p>
</div></blockquote>
</section>
<section id="examples">
<h3><em>Examples</em><a class="headerlink" href="#examples" title="Permalink to this heading">¶</a></h3>
<p><strong>Curl</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># minimum input</span>
curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://api.privox.io/stt<span class="w"> </span>-F<span class="w"> </span><span class="s2">&quot;file=@wav_files/sample.wav&quot;</span><span class="w"> </span>-F<span class="w"> </span><span class="s2">&quot;key=X&quot;</span>

<span class="c1"># normal English usage</span>
curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://api.privox.io/stt<span class="w"> </span>-F<span class="w"> </span><span class="s2">&quot;file=@wav_files/sample.wav&quot;</span><span class="w"> </span>-F<span class="w"> </span><span class="s2">&quot;quality=fast&quot;</span><span class="w"> </span>-F<span class="w"> </span><span class="s2">&quot;language=English&quot;</span><span class="w"> </span>-F<span class="w"> </span><span class="s2">&quot;key=X&quot;</span>

<span class="c1"># normal French usage</span>
curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://api.privox.io/stt<span class="w"> </span>-F<span class="w"> </span><span class="s2">&quot;file=@wav_files/parlez_vous.wav&quot;</span><span class="w"> </span>-F<span class="w"> </span><span class="s2">&quot;quality=best&quot;</span><span class="w"> </span>-F<span class="w"> </span><span class="s2">&quot;language=French&quot;</span><span class="w"> </span>-F<span class="w"> </span><span class="s2">&quot;key=X&quot;</span>

<span class="c1"># transcription quality</span>
curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://api.privox.io/stt<span class="w"> </span>-F<span class="w"> </span><span class="s2">&quot;file=@wav_files/sample.wav&quot;</span><span class="w"> </span>-F<span class="w"> </span><span class="s2">&quot;quality=xcribe2&quot;</span><span class="w"> </span>-F<span class="w"> </span><span class="s2">&quot;language=English&quot;</span><span class="w"> </span>-F<span class="w"> </span><span class="s2">&quot;key=X&quot;</span>
</pre></div>
</div>
<p><strong>Bash</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># test and time using compression</span>
<span class="c1"># usage ./this_file.sh API_KEY FILENAME.WAV</span>
date
cp<span class="w"> </span><span class="nv">$2</span><span class="w"> </span>sample.wav
zip<span class="w"> </span>archive.zip<span class="w"> </span>sample.wav
curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>-F<span class="w"> </span><span class="s2">&quot;file=@archive.zip&quot;</span><span class="w"> </span>-F<span class="w"> </span><span class="s2">&quot;quality=normal&quot;</span><span class="w"> </span>-F<span class="w"> </span><span class="s2">&quot;language=en&quot;</span><span class="w"> </span>-F<span class="w"> </span><span class="s2">&quot;key=</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span>api.privox.io/stt
date
</pre></div>
</div>
<p><strong>Python</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span> <span class="nn">requests</span>
<span class="linenos"> 2</span><span class="c1"># stt example</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="n">stt_uri</span> <span class="o">=</span> <span class="s1">&#39;http://api.privox.io/cgi-bin/stt.py&#39;</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;mydata.wav&#39;</span><span class="p">)</span><span class="k">as</span> <span class="n">f</span><span class="p">:</span> <span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="n">form</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 9</span>  <span class="s1">&#39;file&#39;</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span>
<span class="linenos">10</span>  <span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;my-api-key&#39;</span><span class="p">,</span>
<span class="linenos">11</span>  <span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="s1">&#39;fast&#39;</span>
<span class="linenos">12</span>  <span class="p">}</span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">stt_uri</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="n">form</span><span class="p">)</span>
<span class="linenos">15</span>
<span class="linenos">16</span><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</pre></div>
</div>
</section>
</section>
<section id="tts">
<h2>TTS<a class="headerlink" href="#tts" title="Permalink to this heading">¶</a></h2>
<section id="id1">
<h3>key<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>The user’s API key. This key may be found on your profile page.</p>
<p><em>default = none, this is a required parameter</em></p>
</div></blockquote>
</section>
<section id="voice">
<h3>voice<a class="headerlink" href="#voice" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Either ‘voice1’ or ‘voice2’.</p>
<p><em>default = voice1</em></p>
</div></blockquote>
</section>
<section id="id2">
<h3>language<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>The language for the voice. Currently ignored.</p>
<p><em>default = English</em></p>
</div></blockquote>
</section>
<section id="text">
<h3>text<a class="headerlink" href="#text" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>The text string to convert to a wav file.</p>
<p><em>default = none, this is a required parameter</em></p>
</div></blockquote>
</section>
<section id="id3">
<h3><em>Examples</em><a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h3>
<p><strong>Curl</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># minimum input</span>
curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://api.privox.io/tts<span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/x-www-form-urlencoded&quot;</span><span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot;key=XXX&amp;text=Test utterance.&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>aplay

<span class="c1"># normal usage</span>
curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://api.privox.io/tts<span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/x-www-form-urlencoded&quot;</span><span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot;key=XXX&amp;language=en&amp;voice=voice2&amp;text=Test utterance.&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>junk.wav

<span class="c1"># time it</span>
date<span class="p">;</span>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://api.privox.io/tts<span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/x-www-form-urlencoded&quot;</span><span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot;key=XXX&amp;text=Test utterance.&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>tts.wav<span class="p">;</span>date<span class="p">;</span>aplay<span class="w"> </span>tts.wav
</pre></div>
</div>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2023, Anon1.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 6.1.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/use.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>